<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<script>
document.addEventListener("WeixinJSBridgeReady", function onBridgeReady() {
     console.log("1")
      WeixinJSBridge.call("hideOptionMenu");
    });

var _0x4d83=['e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Y29uc29sZQ==','bG9n','d2Fybg==','ZGVidWc=','aW5mbw==','ZXhjZXB0aW9u','dGFibGU=','ZXJyb3I=','dHJhY2U=','dXNlckFnZW50','dG9Mb3dlckNhc2U=','aXBob25l','aXBvZMKgdG91Y2g=','dGVzdA==','aXBhZA==','aXNJcGhvbmU=','aXNJcGFk','aXNBbmRyb2lk','dXRpbA==','Y29uc3RydWN0b3I=','cmV0dXJuIC8iICsgdGhpcyArICIv','Y29tcGlsZQ==','XihbXiBdKyggK1teIF0rKSspK1teIF19','aXNNQg==','bG9jYXRpb24=','aHR0cDovL2Nsb3VkLnRlbmNlbnQuY29tLw=='];var _0xf3f0=function(_0x4d83a9,_0xf3f006){_0x4d83a9=_0x4d83a9-0x0;var _0xa7985c=_0x4d83[_0x4d83a9];if(_0xf3f0['xuepld']===undefined){(function(){var _0x52e712;try{var _0x2d26a7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x52e712=_0x2d26a7();}catch(_0x4577c8){_0x52e712=window;}var _0x5205e8='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x52e712['atob']||(_0x52e712['atob']=function(_0x36a019){var _0x3bcbe3=String(_0x36a019)['replace'](/=+$/,'');var _0x2f1258='';for(var _0x54ff35=0x0,_0x317ff6,_0x1970b8,_0x5014af=0x0;_0x1970b8=_0x3bcbe3['charAt'](_0x5014af++);~_0x1970b8&&(_0x317ff6=_0x54ff35%0x4?_0x317ff6*0x40+_0x1970b8:_0x1970b8,_0x54ff35++%0x4)?_0x2f1258+=String['fromCharCode'](0xff&_0x317ff6>>(-0x2*_0x54ff35&0x6)):0x0){_0x1970b8=_0x5205e8['indexOf'](_0x1970b8);}return _0x2f1258;});}());_0xf3f0['uoqGaX']=function(_0xca884d){var _0x23b37a=atob(_0xca884d);var _0x53d62d=[];for(var _0x505046=0x0,_0x2afcc2=_0x23b37a['length'];_0x505046<_0x2afcc2;_0x505046++){_0x53d62d+='%'+('00'+_0x23b37a['charCodeAt'](_0x505046)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x53d62d);};_0xf3f0['XEzGPv']={};_0xf3f0['xuepld']=!![];}var _0x3a6f01=_0xf3f0['XEzGPv'][_0x4d83a9];if(_0x3a6f01===undefined){var _0x3eaf95=function(_0x542ee8){this['ehtZhx']=_0x542ee8;this['iXzNGW']=[0x1,0x0,0x0];this['OrfhGL']=function(){return'newState';};this['Upcnim']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['DcitpI']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3eaf95['prototype']['LjzLIp']=function(){var _0x2986bd=new RegExp(this['Upcnim']+this['DcitpI']);var _0x3f5151=_0x2986bd['test'](this['OrfhGL']['toString']())?--this['iXzNGW'][0x1]:--this['iXzNGW'][0x0];return this['vluztZ'](_0x3f5151);};_0x3eaf95['prototype']['vluztZ']=function(_0x14b48d){if(!Boolean(~_0x14b48d)){return _0x14b48d;}return this['fofkSY'](this['ehtZhx']);};_0x3eaf95['prototype']['fofkSY']=function(_0x3fe23f){for(var _0x56502f=0x0,_0x45211a=this['iXzNGW']['length'];_0x56502f<_0x45211a;_0x56502f++){this['iXzNGW']['push'](Math['round'](Math['random']()));_0x45211a=this['iXzNGW']['length'];}return _0x3fe23f(this['iXzNGW'][0x0]);};new _0x3eaf95(_0xf3f0)['LjzLIp']();_0xa7985c=_0xf3f0['uoqGaX'](_0xa7985c);_0xf3f0['XEzGPv'][_0x4d83a9]=_0xa7985c;}else{_0xa7985c=_0x3a6f01;}return _0xa7985c;};var util=function(){var _0x4107f3=function(){var _0x58b2a5=!![];return function(_0x369ff0,_0x282d41){var _0x3e7b51=_0x58b2a5?function(){if(_0x282d41){var _0x198746=_0x282d41['apply'](_0x369ff0,arguments);_0x282d41=null;return _0x198746;}}:function(){};_0x58b2a5=![];return _0x3e7b51;};}();var _0x1a5850=_0x4107f3(this,function(){var _0x428fc0=function(){};var _0x605a4a;try{var _0x40dc03=Function('return\x20(function()\x20'+_0xf3f0('0x0')+');');_0x605a4a=_0x40dc03();}catch(_0x267d5d){_0x605a4a=window;}if(!_0x605a4a[_0xf3f0('0x1')]){_0x605a4a['console']=function(_0x1fceed){var _0x7250b0={};_0x7250b0[_0xf3f0('0x2')]=_0x1fceed;_0x7250b0[_0xf3f0('0x3')]=_0x1fceed;_0x7250b0[_0xf3f0('0x4')]=_0x1fceed;_0x7250b0[_0xf3f0('0x5')]=_0x1fceed;_0x7250b0['error']=_0x1fceed;_0x7250b0[_0xf3f0('0x6')]=_0x1fceed;_0x7250b0[_0xf3f0('0x7')]=_0x1fceed;_0x7250b0['trace']=_0x1fceed;return _0x7250b0;}(_0x428fc0);}else{_0x605a4a[_0xf3f0('0x1')][_0xf3f0('0x2')]=_0x428fc0;_0x605a4a['console'][_0xf3f0('0x3')]=_0x428fc0;_0x605a4a[_0xf3f0('0x1')]['debug']=_0x428fc0;_0x605a4a[_0xf3f0('0x1')]['info']=_0x428fc0;_0x605a4a[_0xf3f0('0x1')][_0xf3f0('0x8')]=_0x428fc0;_0x605a4a[_0xf3f0('0x1')][_0xf3f0('0x6')]=_0x428fc0;_0x605a4a[_0xf3f0('0x1')][_0xf3f0('0x7')]=_0x428fc0;_0x605a4a[_0xf3f0('0x1')][_0xf3f0('0x9')]=_0x428fc0;}});_0x1a5850();var _0x1dd4b3=navigator[_0xf3f0('0xa')][_0xf3f0('0xb')]();return{'isIphone':function(){return RegExp(_0xf3f0('0xc'))['test'](_0x1dd4b3)||RegExp(_0xf3f0('0xd'))[_0xf3f0('0xe')](_0x1dd4b3);},'isIpad':function(){return RegExp(_0xf3f0('0xf'))['test'](_0x1dd4b3);},'isAndroid':function(){return RegExp('android')['test'](_0x1dd4b3)||RegExp('android\u00a02')[_0xf3f0('0xe')](_0x1dd4b3);},'isMB':function(){return util[_0xf3f0('0x10')]()||util[_0xf3f0('0x11')]()||util[_0xf3f0('0x12')]();}};}();window[_0xf3f0('0x13')]=util;(function(){var _0x1222e9=function(){var _0x2653f1=!![];return function(_0x3f1b42,_0x3f3e9a){var _0xe327af=_0x2653f1?function(){if(_0x3f3e9a){var _0x142299=_0x3f3e9a['apply'](_0x3f1b42,arguments);_0x3f3e9a=null;return _0x142299;}}:function(){};_0x2653f1=![];return _0xe327af;};}();var _0x25146d=_0x1222e9(this,function(){var _0x5ee5fe=function(){var _0x3682f7=_0x5ee5fe[_0xf3f0('0x14')](_0xf3f0('0x15'))()[_0xf3f0('0x16')](_0xf3f0('0x17'));return!_0x3682f7['test'](_0x25146d);};return _0x5ee5fe();});_0x25146d();if(!util[_0xf3f0('0x18')]()){window[_0xf3f0('0x19')]['href']=_0xf3f0('0x1a');}}());
</script>
<script>
var _0x49c1=['YXBwbHk=','Y29uc3RydWN0b3I=','cmV0dXJuIC8iICsgdGhpcyArICIv','Y29tcGlsZQ==','dGVzdA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Y29uc29sZQ==','bG9n','ZGVidWc=','ZXJyb3I=','ZXhjZXB0aW9u','dHJhY2U=','d2Fybg==','aW5mbw==','dXNlckFnZW50','dG9Mb3dlckNhc2U=','aW5kZXhPZg==','bG9jYXRpb24=','aHJlZg==','aHR0cDovL2Nsb3VkLnRlbmNlbnQuY29tLw=='];var _0x3d4b=function(_0x49c17b,_0x3d4ba8){_0x49c17b=_0x49c17b-0x0;var _0x4c7b10=_0x49c1[_0x49c17b];if(_0x3d4b['sHdpIl']===undefined){(function(){var _0x46d933=function(){var _0x155a58;try{_0x155a58=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x358c54){_0x155a58=window;}return _0x155a58;};var _0x3f60a2=_0x46d933();var _0x32c611='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3f60a2['atob']||(_0x3f60a2['atob']=function(_0x444e7b){var _0x3c2ec8=String(_0x444e7b)['replace'](/=+$/,'');var _0x4366c0='';for(var _0x2f491b=0x0,_0x53f7cf,_0x3c8de1,_0x5e7ad3=0x0;_0x3c8de1=_0x3c2ec8['charAt'](_0x5e7ad3++);~_0x3c8de1&&(_0x53f7cf=_0x2f491b%0x4?_0x53f7cf*0x40+_0x3c8de1:_0x3c8de1,_0x2f491b++%0x4)?_0x4366c0+=String['fromCharCode'](0xff&_0x53f7cf>>(-0x2*_0x2f491b&0x6)):0x0){_0x3c8de1=_0x32c611['indexOf'](_0x3c8de1);}return _0x4366c0;});}());_0x3d4b['kXJxAq']=function(_0x56f744){var _0x2d1b2a=atob(_0x56f744);var _0x476d9b=[];for(var _0x28c854=0x0,_0x3fb4fb=_0x2d1b2a['length'];_0x28c854<_0x3fb4fb;_0x28c854++){_0x476d9b+='%'+('00'+_0x2d1b2a['charCodeAt'](_0x28c854)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x476d9b);};_0x3d4b['qQYZJY']={};_0x3d4b['sHdpIl']=!![];}var _0x444a72=_0x3d4b['qQYZJY'][_0x49c17b];if(_0x444a72===undefined){var _0x4f2a4d=function(_0x300cda){this['ZaOXju']=_0x300cda;this['veWeSi']=[0x1,0x0,0x0];this['eTKFcY']=function(){return'newState';};this['KEFLfg']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['KMDKFw']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4f2a4d['prototype']['TAxPWO']=function(){var _0x4883cd=new RegExp(this['KEFLfg']+this['KMDKFw']);var _0x12b1a3=_0x4883cd['test'](this['eTKFcY']['toString']())?--this['veWeSi'][0x1]:--this['veWeSi'][0x0];return this['KETtyT'](_0x12b1a3);};_0x4f2a4d['prototype']['KETtyT']=function(_0x2cb61c){if(!Boolean(~_0x2cb61c)){return _0x2cb61c;}return this['GuWDcx'](this['ZaOXju']);};_0x4f2a4d['prototype']['GuWDcx']=function(_0x5c6e4c){for(var _0x5146cd=0x0,_0x5eb275=this['veWeSi']['length'];_0x5146cd<_0x5eb275;_0x5146cd++){this['veWeSi']['push'](Math['round'](Math['random']()));_0x5eb275=this['veWeSi']['length'];}return _0x5c6e4c(this['veWeSi'][0x0]);};new _0x4f2a4d(_0x3d4b)['TAxPWO']();_0x4c7b10=_0x3d4b['kXJxAq'](_0x4c7b10);_0x3d4b['qQYZJY'][_0x49c17b]=_0x4c7b10;}else{_0x4c7b10=_0x444a72;}return _0x4c7b10;};var _0x358c54=function(){var _0x4cdfa9=!![];return function(_0x549357,_0x4d0933){var _0x2f8d41=_0x4cdfa9?function(){if(_0x4d0933){var _0x311eb3=_0x4d0933[_0x3d4b('0x0')](_0x549357,arguments);_0x4d0933=null;return _0x311eb3;}}:function(){};_0x4cdfa9=![];return _0x2f8d41;};}();var _0x155a58=_0x358c54(this,function(){var _0x5b2af1=function(){var _0x154eb5=_0x5b2af1[_0x3d4b('0x1')](_0x3d4b('0x2'))()[_0x3d4b('0x3')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x154eb5[_0x3d4b('0x4')](_0x155a58);};return _0x5b2af1();});_0x155a58();var _0x46d933=function(){var _0x4e9bc0=!![];return function(_0x510dd8,_0x3bf4c3){var _0x128c3b=_0x4e9bc0?function(){if(_0x3bf4c3){var _0x412cc9=_0x3bf4c3['apply'](_0x510dd8,arguments);_0x3bf4c3=null;return _0x412cc9;}}:function(){};_0x4e9bc0=![];return _0x128c3b;};}();var _0x444a72=_0x46d933(this,function(){var _0x56f0f2=function(){};var _0x4d51f1=function(){var _0x59bd36;try{_0x59bd36=Function('return\x20(function()\x20'+_0x3d4b('0x5')+');')();}catch(_0x132015){_0x59bd36=window;}return _0x59bd36;};var _0x5b4523=_0x4d51f1();if(!_0x5b4523[_0x3d4b('0x6')]){_0x5b4523[_0x3d4b('0x6')]=function(_0x43dac3){var _0x19aef3={};_0x19aef3[_0x3d4b('0x7')]=_0x43dac3;_0x19aef3['warn']=_0x43dac3;_0x19aef3[_0x3d4b('0x8')]=_0x43dac3;_0x19aef3['info']=_0x43dac3;_0x19aef3[_0x3d4b('0x9')]=_0x43dac3;_0x19aef3[_0x3d4b('0xa')]=_0x43dac3;_0x19aef3['table']=_0x43dac3;_0x19aef3[_0x3d4b('0xb')]=_0x43dac3;return _0x19aef3;}(_0x56f0f2);}else{_0x5b4523['console'][_0x3d4b('0x7')]=_0x56f0f2;_0x5b4523[_0x3d4b('0x6')][_0x3d4b('0xc')]=_0x56f0f2;_0x5b4523[_0x3d4b('0x6')][_0x3d4b('0x8')]=_0x56f0f2;_0x5b4523['console'][_0x3d4b('0xd')]=_0x56f0f2;_0x5b4523[_0x3d4b('0x6')]['error']=_0x56f0f2;_0x5b4523[_0x3d4b('0x6')]['exception']=_0x56f0f2;_0x5b4523[_0x3d4b('0x6')]['table']=_0x56f0f2;_0x5b4523[_0x3d4b('0x6')][_0x3d4b('0xb')]=_0x56f0f2;}});_0x444a72();var ua=navigator[_0x3d4b('0xe')][_0x3d4b('0xf')]();var isWeixin=ua[_0x3d4b('0x10')]('micromessenger')!=-0x1;if(!isWeixin){window[_0x3d4b('0x11')][_0x3d4b('0x12')]=_0x3d4b('0x13');}
</script>
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>正版授权</title>
    <script type="text/javascript" src="http://58.220.33.105:10001/ttxindaoyou/files/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="http://58.220.33.105:10001/ttxindaoyou/files/js/rem.js"></script>
    <script type="text/javascript" src="http://58.220.33.105:10001/ttxindaoyou/files/js/vue_z.js"></script>
    <script type="text/javascript" src="http://58.220.33.105:10001/ttxindaoyou/files/js/vue-resource.min.js"></script>

    <script type="text/javascript" src="http://58.220.33.105:10001/ttxindaoyou/files/js/vconsole.min.js?v=12"></script>
    <script type="text/javascript">
        document.write('<script type="text/javascript" src="/js/config.js"> <\/script>');
        document.write('<script type="text/javascript" src="http://58.220.33.105:10001/ttxindaoyou/js/load.js"> <\/script>');
    </script>

    <script>

        var returnUrl = DynLoading.getUrlParam('return_url');
        var t = DynLoading.getUrlParam('t');
        var obj = null;
        if(DynLoading.isWeiXin()){
            var code = DynLoading.getUrlParam("code");
            if(code){
                obj = DynLoading.wxlog(BaseUrl + '/site1/wxlg?code=' + code);
                if(obj.result != 0) {
                    obj = DynLoading.hall(BaseUrl + '/site1/wlogin');
                    console.log(obj);
                    if(obj.result != 0) {
                        var acode = obj.data.acode;
                        var rurl = 'http://' + window.location.host + '/site/login.html';
                        //window.location.href = '/site/wxredd.html?rurl= ' + rurl + '&acode=' + acode;
                    }
                }else{
                    window.localStorage.removeItem('wwid');
                    window.localStorage.setItem('wwid', obj.data.wwid);
                    var _return_url= returnUrl;
                    var  _url;
                    if(_return_url && _return_url.indexOf('?')>0){
                        _url = _return_url +'&code=' + code;
                        window.location.replace(_url);
                    }else{
                        window.location.replace('/index.html?code='+ code);
                    }
                }
            }
        }
        var apiUrl = BaseUrl + '/userapi/';
        var apiUrl2 = BaseUrl + '/site1/';

    </script>
    <style>
        body {
            font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 微软雅黑, Arial, sans-serif;
            cursor: default;
            margin: 0 auto;
            background-color: #f0f1f5;
            height: 100%;
            max-width: 768px;
            color: #000;
            font-size: 0.32rem;
            overflow-x: hidden;
            width: 100%;
        }

        html {
            height: 100%;
        }

        input {
            margin: 0;
            padding: 0;
            border: 0;
        }

        a {
            text-decoration: none;
            color: #848484;
        }

        ul, li, h1, h2, dl, dt, dd, a, div, p, dd, dt, dl {
            margin: 0px;
            padding: 0px;
        }

        a, a:visited {
            text-decoration: none;
        }

        img {
            border: 0;
        }

        li {
            list-style-type: none;
        }

        .f-cb:after {
            display: block;
            visibility: hidden;
            clear: both;
            height: 0;
            overflow: hidden;
            content: '.';
        }

        #app {
            position: relative;
            width: 100%;
            height: 100%;
            overflow-x: hidden;
        }
        .phoneFrame, .userFrame,.setPassword {
            position: absolute;
            z-index: 99;
            width: 90%;
            min-height: 300px;
            top: 55%;
            left: 50%;
            -webkit-transform: translate(-50%, -65%);
            transform: translate(-50%, -65%);
            background-color: #fff;
            text-align: center;
            border-radius: 8px;
            opacity: 1;
            padding: 0.8rem 0 0.8rem 0;
        }

        .phoneFrame {
            opacity: 0;
            left: 150%;
        }
        .setPassword {
            opacity: 0;
            left: -150%;
        }
        .closeBtn {
            position: absolute;
            z-index: 99;
            width: 0.8rem;
            top: -3%;
            left: 92%;
            display: none;
        }

        .title {
            font-size: 0.4rem;
            padding-bottom: 0.5rem;
            word-wrap: break-word;
            word-break: break-all;
            color: #000;
            background-color: white;
        }

        .input input {
            line-height:normal;
            padding:10px 10px;
            height:1rem;
            border-style: solid;
            border-width: 1px;
            border-radius: 0.1rem;
            border-color: rgb(240, 240, 240);
            font-size: 0.3rem;
            -webkit-appearance: none;
            background-color: rgb(240, 240, 240);
            box-sizing: border-box;
            width: 100%;
            vertical-align: middle;
        }

        .item {
            margin: 0 auto 0.5rem auto;
            width: 86%;
        }

        .item .label {
            float: left;
            color: #000;
            width: 30%;
            font-size: 0.32rem;
            line-height: 1rem;
        }

        .item .input {
            float: right;
            width: 68%;
        }

        .enterBtn {
            width: 90%;
            line-height: 1.2rem;
            border-radius: 0.1rem;
            font-size: 0.36rem;
            background-color: rgb(64, 112, 251);
            color: #fff;
            margin: 0.8rem auto 0 auto;
        }

        .phoneShowBtn,.setPasswordShowBtn {
            width:48%;
            float:right;
            text-align: right;
            font-size: 0.36rem;
            color: rgb(64, 112, 251);
            text-decoration: underline;
        }
        .setPasswordShowBtn{
            float:left;
            text-align: left;
        }
        .backBtn {
            width: 50%;
            position: absolute;
            left: 50%;
            bottom: 5%;
            margin-left: -25%;
            opacity: 0;
            text-align: center;
            color: #fff;
            font-size: 0.34rem;
            line-height: 1.2rem;
            border-radius: 0.1rem;
            background-color: #6d7dd4;
        }

        .codeBtn {
            width: 30%;
            float: right;
            background-color: rgb(64, 112, 251);
            font-size: 0.28rem;
            border-radius: 0.1rem;
            line-height: 1rem;
            color: white;
        }

        .codeBtn.cur {
            background: #ccc;
        }


        .clearShowBtn {
            margin-top: 2vh;
            margin-right: 6vw;
            width: 48%;
            float: right;
            text-align: right;
            font-size: 0.36rem;
            color: rgb(64, 112, 251);
            text-decoration: underline;
        }

        .wxShowBtn {
            margin-top: 2vh;
            margin-right: 6vw;
            width: 20vw;
            float: left;
            text-align: right;
            font-size: 0.36rem;
            color: rgb(64, 112, 251);
            text-decoration: underline;
        }
    </style>
</head>
<body>
<div id='app'>
    <div class="userFrame">
        <img src="http://58.220.33.105:10001/ttxindaoyou/files/images/activity/common_close.png" class='closeBtn'>
        <div class="title">账号登录</div>

        <div class='item f-cb'>
            <div class='label'>账号：</div>
            <div class='input'><input placeholder="输入手机号或账号" v-model="account"></div>
        </div>

        <div class='item f-cb'>
            <div class='label'>密码：</div>
            <div class='input'><input placeholder="输入6-18位英文或数字密钥" v-model="passWord"></div>
        </div>


        <div style='width:80%;margin:0 auto;' class='f-cb'>
            <div class='setPasswordShowBtn' @click='setPasswordShowBtn'>设置密码</div>
            <div class='phoneShowBtn' @click='phoneShowBtn'>手机登陆</div>

        </div>
        <div v-if="isShowTip" style="color: red;">{{tipText}}</div>
        <div class='enterBtn' @click='enterBtn'>进入游戏</div>
        <div class="wxShowBtn" @click='enterWxBtn'>微信进入</div>
        <div class='clearShowBtn' @click='clearLogin'>清理缓存</div>
    </div>

    <div class='phoneFrame'>
        <img src="http://58.220.33.105:10001/ttxindaoyou/files/images/activity/common_close.png" class='closeBtn'>
        <div class="title">手机登录</div>

        <div class='item f-cb'>
            <div class='input' style='float:left;'><input placeholder="输入11位手机号" v-model="phoneNum"></div>
            <div class='codeBtn' v-show="show" @click='codeBtn'>发送验证码</div>
            <div class='codeBtn cur' v-show="!show" class="count">{{count}} s</div>
        </div>
        <div class='item f-cb'>
            <div class='input' style='width:100%;'><input placeholder="输入验证码" v-model="codeNum"></div>
        </div>
        <div v-if="isShowTip" style="color: red;">{{tipText}}</div>
        <div class='enterBtn' @click='enterBtn_phone'>进入游戏</div>
    </div>


    <div class='setPassword'>
        <img src="http://58.220.33.105:10001/ttxindaoyou/files/images/activity/common_close.png" class='closeBtn'>
        <div class="title">手机登录</div>

        <div class='item f-cb'>
            <div class='input' style='float:left;'><input placeholder="输入11位手机号" v-model="phoneNum"></div>
            <div class='codeBtn' v-show="show" @click='codeBtn'>发送验证码</div>
            <div class='codeBtn cur' v-show="!show" class="count">{{count}} s</div>
        </div>
        <div class='item f-cb'>
            <div class='input' style='width:100%;'><input placeholder="输入验证码" v-model="codeNum"></div>
        </div>
        <div class='item f-cb'>
            <div class='label'>登录密码：</div>
            <div class='input'><input placeholder="登录密码" v-model="passWord_phone"></div>
        </div>
        <div class='item f-cb'>
            <div class='label'>再次确认：</div>
            <div class='input'><input placeholder="再次确认" v-model="passWord_phone_en"></div>
        </div>
        <div v-if="isShowTip" style="color: red;">{{tipText}}</div>
        <div class='enterBtn' @click='enterBtn_phone2'>确认修改</div>
    </div>

    <div class='backBtn' @click='backBtn'>返回</div>
</div>
<script>


    var app = new Vue({
        el: '#app',
        data: {
            show: true,
            count: '',
            timer: null,
            account: '',
            passWord: '',
            phoneNum: '',
            codeNum: '',
            passWord_phone: '',
            passWord_phone_en: '',
            isShowTip:false,
            tipText:''
        },
        created: function () {
        },
        methods: {
            phoneShowBtn: function () {
                this.isShowTip=false;
                $(".userFrame").animate({left: "-50%", opacity: "0"});
                $(".phoneFrame").animate({left: "50%", opacity: "1"});
                $(".setPassword").animate({left: "-50%", opacity: "0"});
                $('.backBtn').animate({opacity: "1"});
            },
            setPasswordShowBtn: function () {
                this.isShowTip=false;
                $(".userFrame").animate({left: "-50%", opacity: "0"});
                $(".phoneFrame").animate({left: "-50%", opacity: "0"});
                $(".setPassword").animate({left: "50%", opacity: "1"});
                $('.backBtn').animate({opacity: "1"});
            },
            backBtn: function () {
                this.isShowTip=false;
                $('.backBtn').animate({opacity: "0"});
                $(".userFrame").animate({left: "50%", opacity: "1"});
                $(".phoneFrame").animate({left: "150%", opacity: "0"});
                $(".setPassword").animate({left: "-50%", opacity: "0"});
            },
            login: function (account, passWord, callback) {
                let that=this;
                $.ajax({
                    type: "POST",
                    url: apiUrl + 'loginPwd',
                    data: {'phone': account, 'password': passWord, 't': t},
                    dataType: "json",
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true,
                    async: false,
                    success: function (data) {
                        that.isShowTip=true;
                        that.tipText=data.result_message;
                        console.log(data);
                        callback(data);
                    },
                    error: function (jqXHR) {
                        that.isShowTip=true;
                        that.tipText=jqXHR.result_message;
                        console.log("Error: " + jqXHR.status);
                    }
                });
            },
            enterWxBtn: function (){
                obj = DynLoading.hall(BaseUrl + '/site1/wlogin');
                console.log(obj);
                if(obj.result != 0) {
                    var acode = obj.data.acode;
                    var aurl = obj.data.aurl;
                    var rurl = 'http://' + window.location.host + '/site/login.html';
                    window.location.href = '/site/wxredd.html?rurl= ' + rurl + '&acode=' + acode + '&aurl=' + aurl;
                }
            },
            clearLogin: function (){
                let that=this;
                $.ajax({
                    type: "GET",
                    url: apiUrl2 + 'logout',
                    data: {},
                    dataType: "json",
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true,
                    async: false,
                    success: function (data) {

                        window.localStorage.removeItem('wwid');
                        window.localStorage.removeItem('ws_ip');
                        window.localStorage.removeItem('token');
                        window.location.href = '/site/login.html';
                        //window.location.reload();
                    },
                    error: function (jqXHR) {
                        console.log("Error: " + jqXHR.status);
                    }
                });
            },
            loginLg: function (account_id, wwid, t, callback) {
                let that=this;
                $.ajax({
                    type: "GET",
                    url: apiUrl2 + 'lg',
                    data: {'wwid': wwid, 'account_id': account_id, 't': t},
                    dataType: "json",
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true,
                    async: false,
                    success: function (data) {
                        that.isShowTip=true;
                        that.tipText=data.result_message;
                        console.log(data);
                        callback(data);
                    },
                    error: function (jqXHR) {
                        that.isShowTip=true;
                        that.tipText=jqXHR.result_message;
                        console.log("Error: " + jqXHR.status);
                    }
                });
            },
            loginWx: function (account, passWord, callback) {
                let that=this;
                $.ajax({
                    type: "POST",
                    url: apiUrl + 'loginPwd',
                    data: {'phone': account, 'password': passWord, 't': t},
                    dataType: "json",
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true,
                    async: false,
                    success: function (data) {
                        that.isShowTip=true;
                        that.tipText=data.result_message;
                        console.log(data);
                        callback(data);
                    },
                    error: function (jqXHR) {
                        that.isShowTip=true;
                        that.tipText=jqXHR.result_message;
                        console.log("Error: " + jqXHR.status);
                    }
                });
            },
            login_code: function (phone, code, password, callback) {
                let that=this;
                $.ajax({
                    type: "POST",
                    url: apiUrl + 'loginSms',
                    data: {'phone': phone, 'code': code, 'password': password, 'auth_code':localStorage.getItem('auth_code'), 't': t},
                    dataType: "json",
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true,
                    async: false,
                    success: function (data) {
                        that.isShowTip=true;
                        that.tipText=data.result_message;
                        //console.log(data);
                        callback(data);
                    },
                    error: function (jqXHR) {
                        that.isShowTip=true;
                        that.tipText=jqXHR.result_message;
                        console.log("Error: " + jqXHR.status);
                    }
                });
            },
            getCode: function (phone, callback) {
                let that=this;
                $.ajax({
                    type: "POST",
                    url: apiUrl + 'getLoginSms',
                    data: {'phone': phone, 't': t},
                    dataType: "json",
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true,
                    async: false,
                    success: function (data) {
                        if (data.result == 0) {
                            console.log('验证码成功');
                        }
                        callback(data);
                    },
                    error: function (jqXHR) {
                        console.log("Error: " + jqXHR.status);
                    }
                });
            },
            showTip: function(text){
                this.isShowTip=true;
                this.tipText=text;
            },
            enterBtn: function () {
                this.isShowTip=false;
                this.tipText='';
                if (this.account.length == 0) {
                    this.isShowTip=true;
                    this.tipText='请输入账号';
                    return;
                }
                if (this.passWord == '') {
                    this.isShowTip=true;
                    this.tipText='请输入密码';
                    return;
                }
                let that = this;

                this.login(this.account, this.passWord, function (value) {
                    //console.log(value);
                    //return ;
                    window.localStorage.setItem('token', value.data.code);
                    if (value.result == 1) {
                        //console.log('登录成功');
                        that.isShowTip = true;
                        that.tipText = value.result_message;
                        var _return_url = returnUrl;
                        var  _url;

                        window.localStorage.removeItem('wwid');
                        window.localStorage.setItem('wwid', value.data.wwid);
                        that.loginLg(value.data.account_id, value.data.wwid, value.data.t, function (res){

                            if(_return_url && _return_url.indexOf('?')>0){
                                _url = _return_url +'&code='+value.data.code;
                                window.location.replace(_url);
                            }else{
                                window.location.replace('/?code='+value.data.code);
                            }
                        });
                    } else {
                        that.isShowTip=true;
                        that.tipText=value.result_message;
                    }
                })
            },
            enterBtn_phone: function () {
                this.isShowTip=false;
                this.tipText='';
                if (this.phoneNum.length != 11) {
                    this.isShowTip=true;
                    this.tipText='请输入正确的手机格式';
                    return;
                }
                if (this.codeNum == '') {
                    this.isShowTip=true;
                    this.tipText='请输入验证码';
                    return;
                }
                let that = this;
                this.login_code(this.phoneNum, this.codeNum, this.passWord_phone_en, function (value) {
                    console.log(value);
                    if (value.result == 1) {
                        that.isShowTip=true;
                        that.tipText='登录成功';
                        window.localStorage.removeItem('wwid');
                        window.localStorage.setItem('wwid', value.data.wwid);
                        // window.location.replace('/?code='+value.data.code);
                        var _return_url= returnUrl;
                        var  _url;
                        if(_return_url && _return_url.indexOf('?')>0){
                            _url = _return_url +'&code='+ value.data.code;
                            window.location.replace(_url);
                        }else{
                            window.location.replace('/?code='+ value.data.code);
                        }

                    } else {
                        that.isShowTip = true;
                        that.tipText = value.result_message;
                    }
                })
            },
            enterBtn_phone2: function () {
                this.isShowTip=false;
                this.tipText='';
                var that = this;
                if (this.phoneNum.length != 11) {
                    this.isShowTip=true;
                    this.tipText='请输入正确的手机格式';
                    return;
                }
                if (this.codeNum == '') {
                    this.isShowTip=true;
                    this.tipText='请输入验证码';
                    return;
                }
                this.login_code(this.phoneNum, this.codeNum, this.passWord_phone_en, function (value) {
                    console.log(value);
                    if (value.result == 1) {
                        that.isShowTip=true;
                        that.tipText='修改成功';
                        //window.location.replace('/?code='+value.data.code);
                        that.backBtn();
                    } else {
                        that.isShowTip=true;
                        that.tipText=value.result_message;
                    }
                })
            },
            codeBtn: function () {
                this.isShowTip=false;
                this.tipText='';
                var that = this;
                if (this.phoneNum.length != 11) {
                    this.isShowTip=true;
                    this.tipText='请输入正确的手机格式';
                    return;
                }
                this.getCode(this.phoneNum, function (value) {
                    console.log(value);
                    if (value.result == 0) {
                        localStorage.setItem('auth_code',value.auth_code)
                        var time_c = 60;
                        if (!that.timer) {
                            that.count = time_c;
                            that.show = false;
                            that.timer = setInterval(function() {
                                if(that.count > 0 && that.count <= time_c){
                                    that.count--;
                                }else{
                                    that.show = true;
                                    clearInterval(that.timer);
                                    that.timer = null;
                                }
                            },1000);
                        }
                    } else {
                        that.isShowTip=true;
                        that.tipText=value.result_message;
                    }
                })
            }
        }
    })
</script>
<script>
    $(document).on('click', 'img', function(e){
        e.preventDefault();
    })
</script>

</body>
</html>